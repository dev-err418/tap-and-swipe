generator client {
  provider   = "prisma-client"
  output     = "../lib/generated/prisma"
  engineType = "client"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                 String   @id @default(cuid())
  discordId          String   @unique
  discordUsername    String
  discordAvatar      String?
  discordAccessToken String?
  stripeCustomerId   String?  @unique
  subscriptionId     String?  @unique
  subscriptionStatus String?
  roleGranted        Boolean  @default(false)
  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt

  @@index([stripeCustomerId])
  @@index([subscriptionId])
}
